(function(){(this||window).webpackJsonp.registerAbsMids({"esri/views/2d/layers/GraphicsLayerView2D":1450,"esri/geometry/support/normalizeUtils":1473,"esri/tasks/geometry/cut":1474,"esri/tasks/geometry/simplify":1475})})(),(window.webpackJsonp=window.webpackJsonp||[]).push([[79],{1450:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r(2),r(1),r(11),r(13),r(84),r(28),r(20),r(9),r(0),r(1472),r(1485),r(1644)],void 0===(i=function(e,t,r,n,i,o,s,a,u,p,c,f,h,l){var g={remove:function(){},pause:function(){},resume:function(){}};return function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._handles=new u,t.container=new f.Container,t}return r(t,e),t.prototype.attach=function(){this.graphicsView=new l.default({view:this.view,graphics:this.layer.graphics}),this.graphicsView.install(this.container),this._handles.add(this.layer.on("graphic-update",this.graphicsView.graphicUpdateHandler))},t.prototype.detach=function(){this.graphicsView.destroy(),this._handles.removeAll()},t.prototype.hitTest=function(e,t){return this.suspended||!this.graphicsView?p.resolve(null):this.graphicsView.hitTest(e,t)},t.prototype.fetchPopupFeatures=function(e){return o(this,void 0,void 0,function(){return i(this,function(t){return this.graphicsView?[2,this.graphicsView.searchFeatures(e).then(function(e){return e.filter(function(e){return!!e.popupTemplate})})]:[2]})})},t.prototype.update=function(e){this.graphicsView.update(e)},t.prototype.moveStart=function(){this.requestUpdate()},t.prototype.viewChange=function(){this.requestUpdate()},t.prototype.moveEnd=function(){this.requestUpdate()},t.prototype.isUpdating=function(){return!this.graphicsView||this.graphicsView.updating},t.prototype.highlight=function(e,t){var r;if(void 0===t&&(t={}),"number"==typeof e?r=[e]:e instanceof s?r=[e.uid]:Array.isArray(e)&&e.length>0?r="number"==typeof e[0]?e:e.map(function(e){return e&&e.uid}):a.isCollection(e)&&(r=e.map(function(e){return e&&e.uid}).toArray()),!(r=r.filter(function(e){return null!=e})).length)return g;var n=this.graphicsView.highlight(r);return{remove:function(){return n.remove()},pause:function(){},resume:function(){}}},t.prototype.queryGraphics=function(){return p.resolve(this.graphicsView.graphics)},n([c.property()],t.prototype,"graphicsView",void 0),n([c.property({dependsOn:["graphicsView.updating"]})],t.prototype,"updating",void 0),n([c.subclass("esri.views.2d.layers.GraphicsLayerView2D")],t)}(c.declared(h))}.apply(null,n))||(e.exports=i)},1473:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r(11),r(13),r(97),r(15),r(12),r(14),r(9),r(63),r(96),r(39),r(94),r(56),r(1474),r(1475)],void 0===(i=function(e,t,r,n,i,o,s,a,u,p,c,f,h,l,g,y){function v(e){return"polygon"===e.type}function d(e){return"polygon"===e[0].type}function m(e){return"polyline"===e[0].type}function w(e){return v(e)?e.rings:e.paths}function x(e,t){return Math.ceil((e-t)/(2*t))}function b(e,t){for(var r=0,n=w(e);r<n.length;r++)for(var i=0,o=n[r];i<o.length;i++){o[i][0]+=t}return e}function M(e){for(var t=[],r=0,n=0,i=0;i<e.length;i++){for(var o=e[i],s=null,a=0;a<o.length;a++)s=o[a],t.push(s),0===a?n=r=s[0]:(r=Math.min(r,s[0]),n=Math.max(n,s[0]));s&&t.push([(r+n)/2,0])}return t}function V(e,t){if(!(e instanceof c||e instanceof p)){var r="straightLineDensify: the input geometry is neither polyline nor polygon";throw O.error(r),new o(r)}for(var n=[],i=0,s=w(e);i<s.length;i++){var a=s[i],u=[];n.push(u),u.push([a[0][0],a[0][1]]);for(var f=0;f<a.length-1;f++){var h=a[f][0],l=a[f][1],g=a[f+1][0],y=a[f+1][1],d=Math.sqrt((g-h)*(g-h)+(y-l)*(y-l)),m=(y-l)/d,x=(g-h)/d,b=d/t;if(b>1){for(var M=1;M<=b-1;M++){var V=M*t,R=x*V+h,T=m*V+l;u.push([R,T])}var J=(d+Math.floor(b-1)*t)/2,j=x*J+h,L=m*J+l;u.push([j,L])}u.push([g,y])}}return v(e)?new p({rings:n,spatialReference:e.spatialReference}):new c({paths:n,spatialReference:e.spatialReference})}function R(e,t,r){if(t){var n=V(e,1e6);e=l.webMercatorToGeographic(n,!0)}return r&&(e=b(e,r)),e}function T(e,t,r){var n;if(Array.isArray(e)){if((n=e[0])>t){var i=x(n,t);e[0]=n+i*(-2*t)}else if(n<r){i=x(n,r);e[0]=n+i*(-2*r)}}else if((n=e.x)>t){i=x(n,t);e=e.clone().offset(i*(-2*t),0)}else if(n<r){i=x(n,r);e=e.clone().offset(i*(-2*r),0)}return e}function J(e,t){for(var r=-1,n=0;n<t.cutIndexes.length;n++)!function(n){for(var i=t.cutIndexes[n],o=t.geometries[n],s=w(o),a=0;a<s.length;a++)!function(e){var t=s[e];t.some(function(r){if(r[0]<180)return!0;for(var n=0,i=0;i<t.length;i++){var s=t[i][0];n=s>n?s:n}for(var a=-360*x(n=Number(n.toFixed(9)),180),u=0;u<t.length;u++){var p=o.getPoint(e,u);o.setPoint(e,u,p.clone().offset(a,0))}return!0})}(a);if(i===r){if(d(e))for(var u=0,p=w(o);u<p.length;u++){var c=p[u];e[i]=e[i].addRing(c)}else if(m(e))for(var f=0,h=w(o);f<h.length;f++){var l=h[f];e[i]=e[i].addPath(l)}}else r=i,e[i]=o}(n);return e}Object.defineProperty(t,"__esModule",{value:!0});var O=s.getLogger("esri.geometry.support.normalizeUtils"),j={102100:{maxX:20037508.342788905,minX:-20037508.342788905,plus180Line:new c({paths:[[[20037508.342788905,-20037508.342788905],[20037508.342788905,20037508.342788905]]],spatialReference:f.WebMercator}),minus180Line:new c({paths:[[[-20037508.342788905,-20037508.342788905],[-20037508.342788905,20037508.342788905]]],spatialReference:f.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new c({paths:[[[180,-180],[180,180]]],spatialReference:f.WebMercator}),minus180Line:new c({paths:[[[-180,-180],[-180,180]]],spatialReference:f.WebMercator})}};t.straightLineDensify=V,t.normalizeCentralMeridian=function e(t,o,s){return n(this,void 0,void 0,function(){var n,f,v,d,m,w,M,V,O,L,S,N,_,k,q,A,P,U,W,I,X,z,D,G,C,F,E,H,B,K,Q,Y,Z,$,ee,te,re;return r(this,function(r){switch(r.label){case 0:if(!Array.isArray(t))return[2,e([t],o)];for(n=o?o.url:i.geometryServiceUrl,L=0,S=[],N=[],_=0,k=t;_<k.length;_++)q=k[_],a.isNone(q)?N.push(q):(f||(f=q.spatialReference,v=h.getInfo(f),d=f.isWebMercator,m=j[M=d?102100:4326].maxX,w=j[M].minX,V=j[M].plus180Line,O=j[M].minus180Line),v?"mesh"===q.type?N.push(q):"point"===q.type?N.push(T(q.clone(),m,w)):"multipoint"===q.type?((A=q.clone()).points=A.points.map(function(e){return T(e,m,w)}),N.push(A)):"extent"===q.type?(U=q.clone(),P=U._normalize(!1,!1,v),N.push(P.rings?new p(P):P)):q.extent?(U=q.extent,W=x(U.xmin,w),X=0==(I=W*(2*m))?q.clone():b(q.clone(),I),U.offset(I,0),U.intersects(V)&&U.xmax!==m?(L=U.xmax>L?U.xmax:L,X=R(X,d),S.push(X),N.push("cut")):U.intersects(O)&&U.xmin!==w?(L=U.xmax*(2*m)>L?U.xmax*(2*m):L,X=R(X,d,360),S.push(X),N.push("cut")):N.push(X)):N.push(q.clone()):N.push(q));for(z=x(L,m),D=-90,G=z,C=new c;z>0;)F=360*z-180,C.addPath([[F,D],[F,-1*D]]),D*=-1,z--;return S.length>0&&G>0?[4,g.cut(n,S,C,s)]:[3,3];case 1:for(E=r.sent(),H=J(S,E),B=[],K=[],ee=0;ee<N.length;ee++)"cut"!==(te=N[ee])?K.push(te):(re=H.shift(),Q=t[ee],a.isSome(Q)&&"polygon"===Q.type&&Q.rings&&Q.rings.length>1&&re.rings.length>=Q.rings.length?(B.push(re),K.push("simplify")):K.push(d?l.geographicToWebMercator(re):re));return B.length?[4,y.simplify(n,B,s)]:[2,K];case 2:for(Y=r.sent(),Z=[],ee=0;ee<K.length;ee++)"simplify"!==(te=K[ee])?Z.push(te):Z.push(d?l.geographicToWebMercator(Y.shift()):Y.shift());return[2,Z];case 3:for($=[],ee=0;ee<N.length;ee++)"cut"!==(te=N[ee])?$.push(te):(re=S.shift(),$.push(!0===d?l.geographicToWebMercator(re):re));return[2,u.resolve($)]}})})},t.getDenormalizedExtent=function(e){var t;if(!e)return null;var r=e.extent;if(!r)return null;var n=e.spatialReference&&h.getInfo(e.spatialReference);if(!n)return r;var i,o=n.valid,s=o[0],a=o[1],u=2*a,p=r.width,c=r.xmin,f=r.xmax;if(c=(t=[f,c])[0],f=t[1],"extent"===e.type||0===p||p<=a||p>u||c<s||f>a)return r;switch(e.type){case"polygon":if(!(e.rings.length>1))return r;i=M(e.rings);break;case"polyline":if(!(e.paths.length>1))return r;i=M(e.paths);break;case"multipoint":i=e.points}for(var l=r.clone(),g=0;g<i.length;g++){var y=i[g][0];y<0?(y+=a,f=Math.max(y,f)):(y-=a,c=Math.min(y,c))}return l.xmin=c,l.xmax=f,l.width<p?(l.xmin-=a,l.xmax-=a,l):r},t.normalizeMapX=function(e,t){var r=h.getInfo(t);if(r){var n=r.valid,i=n[0],o=n[1],s=o-i;if(e<i)for(;e<i;)e+=s;if(e>o)for(;e>o;)e-=s}return e}}.apply(null,n))||(e.exports=i)},1474:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r(7),r(13),r(11),r(42),r(48),r(31),r(71)],void 0===(i=function(e,t,r,n,i,o,s,a,u){Object.defineProperty(t,"__esModule",{value:!0}),t.cut=function(e,t,p,c){return n(this,void 0,void 0,function(){var n,f,h,l,g,y,v;return i(this,function(i){switch(i.label){case 0:return n="string"==typeof e?a.urlToObject(e):e,f=t[0].spatialReference,h=r({},c,{query:r({},n.query,{f:"json",sr:JSON.stringify(f),target:JSON.stringify({geometryType:u.getJsonType(t[0]),geometries:t}),cutter:JSON.stringify(p)})}),[4,s(n.path+"/cut",h)];case 1:return l=i.sent(),g=l.data,y=g.cutIndexes,v=g.geometries,[2,{cutIndexes:y,geometries:(void 0===v?[]:v).map(function(e){return o.fromJSON(e).set(f)})}]}})})}}.apply(null,n))||(e.exports=i)},1475:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r(7),r(13),r(11),r(48),r(31),r(71)],void 0===(i=function(e,t,r,n,i,o,s,a){Object.defineProperty(t,"__esModule",{value:!0}),t.simplify=function(e,t,u){return n(this,void 0,void 0,function(){var n,p,c,f;return i(this,function(i){switch(i.label){case 0:return n="string"==typeof e?s.urlToObject(e):e,p=t[0].spatialReference,c=a.getJsonType(t[0]),f=r({},u,{query:r({},n.query,{f:"json",sr:p.wkid?p.wkid:JSON.stringify(p),geometries:JSON.stringify(function(e){return{geometryType:a.getJsonType(e[0]),geometries:e.map(function(e){return e.toJSON()})}}(t))})}),[4,o(n.path+"/simplify",f)];case 1:return[2,function(e,t,r){var n=a.getGeometryType(t);return e.map(function(e){var t=n.fromJSON(e);return t.spatialReference=r,t})}(i.sent().data,c,p)]}})})}}.apply(null,n))||(e.exports=i)}}]);